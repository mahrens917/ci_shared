Syncing pyproject.toml tool configuration with shared template...
‚úì Tool configurations in pyproject.toml match shared config
Running make check...
Running shared CI checks...
‚Üí Running isort...
‚Üí Running black...
All done! ‚ú® üç∞ ‚ú®
55 files left unchanged.
‚Üí Running codespell...
‚Üí Running vulture...
‚Üí Running deptry...
Scanning 56 files...

[1m[32mSuccess! No dependency issues found.[m
‚Üí Running gitleaks...
  ‚Üí scanning ci_tools
  ‚Üí scanning tests
  ‚Üí scanning scripts
  ‚Üí scanning docs
  ‚Üí scanning ci_tools
  ‚Üí scanning ci_tools_proxy
  ‚Üí scanning ci_shared.mk
  ‚Üí scanning shared-tool-config.toml
  ‚Üí scanning pyproject.toml
  ‚Üí scanning Makefile
  ‚Üí scanning README.md
  ‚Üí scanning SECURITY.md
‚Üí Running bandit...
‚Üí Running safety...
Safety 3.6.2 scanning /Users/mahrens917/projects/ci_shared
2025-12-26 05:25:33 UTC

Account: Michael Ahrens, mahrens917@gmail.com 
Project: ci-shared
 Git branch: main
 Environment: Stage.development
 Scan policy: fetched from Safety Platform, ignoring any local Safety 
CLI policy files

Python detected. Found 1 Python pyproject.toml file and 1 Python 
requirement file

‚úÖ pyproject.toml: No issues found.

‚úÖ scripts/requirements.txt: No issues found.

Tested 22 dependencies for security issues using policy fetched from 
Safety Platform
7 vulnerabilities found, 7 ignored due to policy.
0 fixes suggested, resolving 0 vulnerabilities.

Project dashboard: 
https://platform.safetycli.com/codebases/ci-shared/findings?branch=mai
n
‚Üí Running policy_guard...
‚Üí Running data_guard...
‚Üí Running structure_guard...
‚Üí Running complexity_guard...
‚úì All functions meet complexity limits (cyclomatic ‚â§10, cognitive ‚â§15)
‚Üí Running module_guard...
‚Üí Running function_size_guard...
‚Üí Running inheritance_guard...
‚Üí Running method_count_guard...
‚Üí Running dependency_guard...
‚Üí Running unused_module_guard...
Checking for unused modules in ci_tools...
‚úÖ No unused modules found
‚Üí Running documentation_guard...
‚úÖ documentation_guard: All required documentation present
   (3 docs verified)
‚Üí Running ruff...
All checks passed!
‚Üí Running pyright...
0 errors, 0 warnings, 0 informations
‚Üí Running pylint...

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

‚Üí Cleaning bytecode...
‚Üí Running pytest...
........................................................................ [  6%]
........................................................................ [ 12%]
........................................................................ [ 19%]
........................................................................ [ 25%]
........................................................................ [ 32%]
........................................................................ [ 38%]
........................................................................ [ 45%]
........................................................................ [ 51%]
........................................................................ [ 58%]
........................................................................ [ 64%]
........................................................................ [ 71%]
........................................................................ [ 77%]
........................................................................ [ 84%]
........................................................................ [ 90%]
........................................................................ [ 97%]
.................................                                        [100%]
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.12.11-final-0 _______________

Name                                          Stmts   Miss  Cover
-----------------------------------------------------------------
ci_tools/_messages.py                             7      0   100%
ci_tools/ci.py                                    3      0   100%
ci_tools/ci_runtime/bandit_wrapper.py            46      1    98%
ci_tools/ci_runtime/codex.py                    122     11    91%
ci_tools/ci_runtime/config.py                    65      0   100%
ci_tools/ci_runtime/coverage.py                  55      0   100%
ci_tools/ci_runtime/environment.py               24      0   100%
ci_tools/ci_runtime/failures.py                  40      0   100%
ci_tools/ci_runtime/heuristics.py                55      0   100%
ci_tools/ci_runtime/messaging.py                 85      1    99%
ci_tools/ci_runtime/models.py                   221      2    99%
ci_tools/ci_runtime/patch_cycle.py               66      1    98%
ci_tools/ci_runtime/patching.py                  88      1    99%
ci_tools/ci_runtime/process.py                   91     12    87%
ci_tools/ci_runtime/workflow.py                 132      0   100%
ci_tools/scripts/ast_utils.py                    51      9    82%
ci_tools/scripts/cli_detection.py                52      8    85%
ci_tools/scripts/complexity_guard.py            131     10    92%
ci_tools/scripts/config_loader.py                23      0   100%
ci_tools/scripts/coverage_guard.py              119     10    92%
ci_tools/scripts/data_guard.py                  187     18    90%
ci_tools/scripts/dependency_guard.py             62      6    90%
ci_tools/scripts/documentation_guard.py         138      2    99%
ci_tools/scripts/duplicate_detection.py          24      0   100%
ci_tools/scripts/function_size_guard.py          30      1    97%
ci_tools/scripts/generate_commit_message.py     218     38    83%
ci_tools/scripts/guard_common.py                123      3    98%
ci_tools/scripts/import_analysis.py              82      1    99%
ci_tools/scripts/import_checking.py              39      3    92%
ci_tools/scripts/inheritance_guard.py            80      2    98%
ci_tools/scripts/method_count_guard.py           39      1    97%
ci_tools/scripts/module_guard.py                 26      1    96%
ci_tools/scripts/policy_checks.py                28      5    82%
ci_tools/scripts/policy_collectors_ast.py       127     12    91%
ci_tools/scripts/policy_collectors_text.py      100     12    88%
ci_tools/scripts/policy_context.py              166     10    94%
ci_tools/scripts/policy_guard.py                  6      0   100%
ci_tools/scripts/policy_rules.py                102      1    99%
ci_tools/scripts/policy_visitors.py             163     13    92%
ci_tools/scripts/propagate_ci_shared.py         207     25    88%
ci_tools/scripts/structure_guard.py              42      2    95%
ci_tools/scripts/tool_config_guard.py           229     16    93%
ci_tools/scripts/unused_module_guard.py          94      4    96%
ci_tools/test_constants.py                       15      0   100%
ci_tools/utils/consumers.py                      70      4    94%
-----------------------------------------------------------------
TOTAL                                          3873    246    94%
Required test coverage of 80% reached. Total coverage: 93.65%
============================= slowest 10 durations =============================

(10 durations < 0.1s hidden.)
1113 passed in 3.89s
‚Üí Running coverage_guard...
‚Üí Running compileall...

‚úÖ All shared CI checks passed!
Staging repository changes...
Requesting commit message from Codex (model: gpt-5.1-codex-mini)...
Using Codex commit summary: Updated ci_tools proxy bootstrap, CI scripts, and tests to rely on shared implementations
Creating commit...
[main 711420c] Updated ci_tools proxy bootstrap, CI scripts, and tests to rely on shared implementations
 8 files changed, 327 insertions(+), 52 deletions(-)
 create mode 100755 scripts/list_consumers.py
 create mode 100644 x.log
Created commit: 711420c Updated ci_tools proxy bootstrap, CI scripts, and tests to rely on shared implementations
Pushing to origin/main...
To github.com:mahrens917/ci_shared.git
   7b15966..711420c  main -> main

Syncing shared config files into consuming repositories...

Sync results:
  [api] .gitleaks.toml: up-to-date
  [api] ci_shared.mk: up-to-date
  [api] shared-tool-config.toml: up-to-date
  [api/ci_tools] __init__.py: up-to-date
  [api/scripts] ci.sh: up-to-date
  [zeus] .gitleaks.toml: up-to-date
  [zeus] ci_shared.mk: up-to-date
  [zeus] shared-tool-config.toml: up-to-date
  [zeus/ci_tools] __init__.py: up-to-date
  [zeus/scripts] ci.sh: up-to-date
  [monitor] .gitleaks.toml: up-to-date
  [monitor] ci_shared.mk: up-to-date
  [monitor] shared-tool-config.toml: up-to-date
  [monitor/ci_tools] __init__.py: updated
  [monitor/scripts] ci.sh: up-to-date
  [aws] .gitleaks.toml: up-to-date
  [aws] ci_shared.mk: up-to-date
  [aws] shared-tool-config.toml: up-to-date
  [aws/ci_tools] __init__.py: up-to-date
  [aws/scripts] ci.sh: up-to-date
  [common] .gitleaks.toml: up-to-date
  [common] ci_shared.mk: up-to-date
  [common] shared-tool-config.toml: up-to-date
  [common/ci_tools] __init__.py: up-to-date
  [common/scripts] ci.sh: up-to-date
  [peak] .gitleaks.toml: up-to-date
  [peak] ci_shared.mk: up-to-date
  [peak] shared-tool-config.toml: up-to-date
  [peak/ci_tools] __init__.py: up-to-date
  [peak/scripts] ci.sh: up-to-date
  [cfb] .gitleaks.toml: up-to-date
  [cfb] ci_shared.mk: up-to-date
  [cfb] shared-tool-config.toml: up-to-date
  [cfb/ci_tools] __init__.py: up-to-date
  [cfb/scripts] ci.sh: up-to-date
  [deribit] .gitleaks.toml: up-to-date
  [deribit] ci_shared.mk: up-to-date
  [deribit] shared-tool-config.toml: up-to-date
  [deribit/ci_tools] __init__.py: up-to-date
  [deribit/scripts] ci.sh: up-to-date
  [kalshi] .gitleaks.toml: up-to-date
  [kalshi] ci_shared.mk: up-to-date
  [kalshi] shared-tool-config.toml: up-to-date
  [kalshi/ci_tools] __init__.py: up-to-date
  [kalshi/scripts] ci.sh: up-to-date
  [pdf] .gitleaks.toml: up-to-date
  [pdf] ci_shared.mk: up-to-date
  [pdf] shared-tool-config.toml: up-to-date
  [pdf/ci_tools] __init__.py: up-to-date
  [pdf/scripts] ci.sh: up-to-date
  [tracker] .gitleaks.toml: up-to-date
  [tracker] ci_shared.mk: up-to-date
  [tracker] shared-tool-config.toml: up-to-date
  [tracker/ci_tools] __init__.py: updated
  [tracker/scripts] ci.sh: up-to-date
  [weather] .gitleaks.toml: up-to-date
  [weather] ci_shared.mk: up-to-date
  [weather] shared-tool-config.toml: up-to-date
  [weather/ci_tools] __init__.py: up-to-date
  [weather/scripts] ci.sh: up-to-date
‚úì Config sync complete

Running shared tool-config sync in consuming repositories...
  ‚Ä¢ /Users/mahrens917/projects/api
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/zeus
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/monitor
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/aws
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/common
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/peak
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/cfb
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/deribit
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/kalshi
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/pdf
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/tracker
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
  ‚Ä¢ /Users/mahrens917/projects/weather
‚úì Tool configurations in pyproject.toml match shared config
    ‚úì tool configuration synced
‚úì Tool-config sync complete across consuming repositories.

Propagating ci_shared updates into consuming repositories...

======================================================================
Propagating ci_shared updates to consuming repositories
======================================================================

Latest ci_shared commit: Updated ci_tools proxy bootstrap, CI scripts, and tests to rely on shared implementations

Consuming repos: api (/Users/mahrens917/projects/api), zeus (/Users/mahrens917/projects/zeus), monitor (/Users/mahrens917/projects/monitor), aws (/Users/mahrens917/projects/aws), common (/Users/mahrens917/projects/common), peak (/Users/mahrens917/projects/peak), cfb (/Users/mahrens917/projects/cfb), deribit (/Users/mahrens917/projects/deribit), kalshi (/Users/mahrens917/projects/kalshi), pdf (/Users/mahrens917/projects/pdf), tracker (/Users/mahrens917/projects/tracker), weather (/Users/mahrens917/projects/weather)

======================================================================
Updating ci_shared assets in api...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì api already up to date
Reinstalling ci_shared in api...
‚úì Successfully reinstalled ci_shared in api

======================================================================
Updating ci_shared assets in zeus...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì zeus already up to date
Reinstalling ci_shared in zeus...
‚úì Successfully reinstalled ci_shared in zeus

======================================================================
Updating ci_shared assets in monitor...
======================================================================
üìù monitor has uncommitted changes, committing automatically...
‚úì Successfully committed changes in monitor
Syncing shared config files...
Running tool_config_guard sync...
‚úì monitor already up to date
Reinstalling ci_shared in monitor...
‚úì Successfully reinstalled ci_shared in monitor

======================================================================
Updating ci_shared assets in aws...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì aws already up to date
Reinstalling ci_shared in aws...
‚úì Successfully reinstalled ci_shared in aws

======================================================================
Updating ci_shared assets in common...
======================================================================
üìù common has uncommitted changes, committing automatically...
‚úì Successfully committed changes in common
Syncing shared config files...
Running tool_config_guard sync...
‚úì common already up to date
Reinstalling ci_shared in common...
‚úì Successfully reinstalled ci_shared in common

======================================================================
Updating ci_shared assets in peak...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì peak already up to date
Reinstalling ci_shared in peak...
‚úì Successfully reinstalled ci_shared in peak

======================================================================
Updating ci_shared assets in cfb...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì cfb already up to date
Reinstalling ci_shared in cfb...
‚úì Successfully reinstalled ci_shared in cfb

======================================================================
Updating ci_shared assets in deribit...
======================================================================
üìù deribit has uncommitted changes, committing automatically...
‚úì Successfully committed changes in deribit
Syncing shared config files...
Running tool_config_guard sync...
‚úì deribit already up to date
Reinstalling ci_shared in deribit...
‚úì Successfully reinstalled ci_shared in deribit

======================================================================
Updating ci_shared assets in kalshi...
======================================================================
üìù kalshi has uncommitted changes, committing automatically...
‚úì Successfully committed changes in kalshi
Syncing shared config files...
Running tool_config_guard sync...
‚úì kalshi already up to date
Reinstalling ci_shared in kalshi...
‚úì Successfully reinstalled ci_shared in kalshi

======================================================================
Updating ci_shared assets in pdf...
======================================================================
üìù pdf has uncommitted changes, committing automatically...
‚úì Successfully committed changes in pdf
Syncing shared config files...
Running tool_config_guard sync...
Reinstalling ci_shared in pdf...
‚úì Successfully reinstalled ci_shared in pdf
Requesting Codex commit message...
‚úì Committed shared CI updates in pdf
‚úì Pushed shared CI updates to pdf

======================================================================
Updating ci_shared assets in tracker...
======================================================================
üìù tracker has uncommitted changes, committing automatically...
‚úì Successfully committed changes in tracker
Syncing shared config files...
Running tool_config_guard sync...
‚úì tracker already up to date
Reinstalling ci_shared in tracker...
‚úì Successfully reinstalled ci_shared in tracker

======================================================================
Updating ci_shared assets in weather...
======================================================================
Syncing shared config files...
Running tool_config_guard sync...
‚úì weather already up to date
Reinstalling ci_shared in weather...
‚úì Successfully reinstalled ci_shared in weather

======================================================================
Propagation Summary
======================================================================
‚úÖ Updated and pushed: pdf
‚äò  Skipped: api, zeus, monitor, aws, common, peak, cfb, deribit, kalshi, tracker, weather

‚úì Propagation complete
Done.
